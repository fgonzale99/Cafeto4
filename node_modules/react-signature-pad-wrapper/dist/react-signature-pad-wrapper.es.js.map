{"version":3,"file":"react-signature-pad-wrapper.es.js","sources":["../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../src/SignaturePad.js"],"sourcesContent":["function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport SigPad from 'signature_pad';\nimport { debounce } from 'throttle-debounce';\n\n/**\n * @class\n * @classdesc Signature pad component.\n * @extends {PureComponent}\n */\nclass SignaturePad extends PureComponent {\n    static displayName = 'react-signature-pad-wrapper';\n\n    static propTypes = {\n        width: PropTypes.number,\n        height: PropTypes.number,\n        options: PropTypes.object,\n        redrawOnResize: PropTypes.bool.isRequired,\n        debounceInterval: PropTypes.number.isRequired,\n        canvasProps: PropTypes.object,\n    };\n\n    static defaultProps = {\n        redrawOnResize: false,\n        debounceInterval: 150,\n    };\n\n    /**\n     * Create a new signature pad.\n     *\n     * @param {Object} props\n     */\n    constructor(props) {\n        super(props);\n\n        this.state = { canvasWidth: 0, canvasHeight: 0 };\n\n        this._callResizeHandler = debounce(this.props.debounceInterval, this.handleResize.bind(this));\n    }\n\n    /**\n     * Initialise the signature pad once the canvas element is rendered.\n     *\n     * @return {void}\n     */\n    componentDidMount() {\n        if (this._canvas) {\n            if (!this.props.width || !this.props.height) {\n                this._canvas.style.width = '100%';\n            }\n            this.scaleCanvas();\n\n            if (!this.props.width || !this.props.height) {\n                window.addEventListener('resize', this._callResizeHandler);\n            }\n\n            this._signaturePad = new SigPad(this._canvas, this.props.options);\n        }\n    }\n\n    /**\n     * Remove the resize event listener and switch the signature pad off on\n     * unmount.\n     *\n     * @return {void}\n     */\n    componentWillUnmount() {\n        if (!this.props.width || !this.props.height) {\n            window.removeEventListener('resize', this._callResizeHandler);\n        }\n\n        this._signaturePad.off();\n    }\n\n    /**\n     * Get the original signature_pad instance.\n     *\n     * @return {SignaturePad}\n     */\n    get instance() {\n        return this._signaturePad;\n    }\n\n    /**\n     * Get the canvas ref.\n     *\n     * @return {Object}\n     */\n    get canvas() {\n        return this._canvas;\n    }\n\n    /**\n     * Set the radius of a single dot.\n     *\n     * @param {(number|Function)} dotSize\n     * @return {void}\n     */\n    set dotSize(dotSize) {\n        this._signaturePad.dotSize = dotSize;\n    }\n\n    /**\n     * Get the radius of a single dot.\n     *\n     * @return {number}\n     */\n    get dotSize() {\n        return this._signaturePad.dotSize;\n    }\n\n    /**\n     * Set the minimum width of a line.\n     *\n     * @param {number} minWidth\n     * @return {void}\n     */\n    set minWidth(minWidth) {\n        this._signaturePad.minWidth = minWidth;\n    }\n\n    /**\n     * Get the minimum width of a line.\n     *\n     * @return {number}\n     */\n    get minWidth() {\n        return this._signaturePad.minWidth;\n    }\n\n    /**\n     * Get the maximum width of a line.\n     *\n     * @param {number} maxWidth\n     * @return {void}\n     */\n    set maxWidth(maxWidth) {\n        this._signaturePad.maxWidth = maxWidth;\n    }\n\n    /**\n     * Get the maximum width of a line.\n     *\n     * @return {number}\n     */\n    get maxWidth() {\n        return this._signaturePad.maxWidth;\n    }\n\n    /**\n     * Set the throttle for drawing the next point at most once every x ms.\n     *\n     * @param {number} throttle\n     * @return {void}\n     */\n    set throttle(throttle) {\n        this._signaturePad.throttle = throttle;\n    }\n\n    /**\n     * Get the throttle for drawing the next point at most once every x ms.\n     *\n     * @return {number}\n     */\n    get throttle() {\n        return this._signaturePad.throttle;\n    }\n\n    /**\n     * Set the color used to clear the background.\n     *\n     * @param {string} color\n     * @return {void}\n     */\n    set backgroundColor(color) {\n        this._signaturePad.backgroundColor = color;\n    }\n\n    /**\n     * Get the color used to clear the background.\n     *\n     * @return {string}\n     */\n    get backgroundColor() {\n        return this._signaturePad.backgroundColor;\n    }\n\n    /**\n     * Set the color used to draw the lines.\n     *\n     * @param {string} color\n     * @return {void}\n     */\n    set penColor(color) {\n        this._signaturePad.penColor = color;\n    }\n\n    /**\n     * Get the color used to draw the lines.\n     *\n     * @return {string}\n     */\n    get penColor() {\n        return this._signaturePad.penColor;\n    }\n\n    /**\n     * Set weight used to modify new velocity based on the previous velocity.\n     *\n     * @param {number} weight\n     * @return {void}\n     */\n    set velocityFilterWeight(weight) {\n        this._signaturePad.velocityFilterWeight = weight;\n    }\n\n    /**\n     * Get weight used to modify new velocity based on the previous velocity.\n     *\n     * @return {number}\n     */\n    get velocityFilterWeight() {\n        return this._signaturePad.velocityFilterWeight;\n    }\n\n    /**\n     * Set callback that will be triggered on stroke begin.\n     *\n     * @param {Function} fn\n     * @return {void}\n     */\n    set onBegin(fn) {\n        if (!(fn && typeof fn === 'function')) {\n            throw new Error('Invalid argument passed to onBegin()');\n        }\n\n        this._signaturePad.onBegin = fn;\n    }\n\n    /**\n     * Set callback that will be triggered on stroke end.\n     *\n     * @param {Function} fn\n     * @return {void}\n     */\n    set onEnd(fn) {\n        if (!(fn && typeof fn === 'function')) {\n            throw new Error('Invalid argument passed to onEnd()');\n        }\n\n        this._signaturePad.onEnd = fn;\n    }\n\n    /**\n     * Determine if the canvas is empty.\n     *\n     * @return {Boolean}\n     */\n    isEmpty() {\n        return this._signaturePad.isEmpty();\n    }\n\n    /**\n     * Clear the canvas.\n     *\n     * @return {void}\n     */\n    clear() {\n        this._signaturePad.clear();\n    }\n\n    /**\n     * Draw a signature from a data URL.\n     *\n     * @param {string} base64String\n     * @return {void}\n     */\n    fromDataURL(base64String) {\n        this._signaturePad.fromDataURL(base64String);\n    }\n\n    /**\n     * Get the signature data as a data URL.\n     *\n     * @param {string} mime\n     * @return {string}\n     */\n    toDataURL(mime) {\n        return this._signaturePad.toDataURL(mime);\n    }\n\n    /**\n     * Draw a signature from an array of point groups.\n     *\n     * @param {Array} data\n     * @return {void}\n     */\n    fromData(data) {\n        this._signaturePad.fromData(data);\n    }\n\n    /**\n     * Get the signature pad data an array of point groups.\n     *\n     * @return {Array}\n     */\n    toData() {\n        return this._signaturePad.toData();\n    }\n\n    /**\n     * Turn the signature pad off.\n     *\n     * @return {void}\n     */\n    off() {\n        this._signaturePad.off();\n    }\n\n    /**\n     * Turn the signature pad on.\n     *\n     * @return {void}\n     */\n    on() {\n        this._signaturePad.on();\n    }\n\n    /**\n     * Handle a resize event.\n     *\n     * @return {void}\n     */\n    handleResize() {\n        this.scaleCanvas();\n    }\n\n    /**\n     * Scale the canvas.\n     *\n     * @return {void}\n     */\n    scaleCanvas() {\n        const ratio = Math.max(window.devicePixelRatio || 1, 1);\n        const width = (this.props.width || this._canvas.offsetWidth) * ratio;\n        const height = (this.props.height || this._canvas.offsetHeight) * ratio;\n\n        // Avoid needlessly setting height/width if dimensions haven't changed\n        const { canvasWidth, canvasHeight } = this.state;\n        if (width === canvasWidth && height === canvasHeight) return;\n\n        let data;\n        if (this.props.redrawOnResize && this._signaturePad) {\n            data = this._signaturePad.toDataURL();\n        }\n\n        this._canvas.width = width;\n        this._canvas.height = height;\n\n        this.setState({ canvasWidth: width, canvasHeight: height });\n\n        const ctx = this._canvas.getContext('2d');\n        ctx.scale(ratio, ratio);\n\n        if (this.props.redrawOnResize && this._signaturePad) {\n            this._signaturePad.fromDataURL(data);\n        } else if (this._signaturePad) {\n            this._signaturePad.clear();\n        }\n    }\n\n    /**\n     * Render the signature pad component.\n     *\n     * @return {ReactElement}\n     */\n    render() {\n        const { canvasProps } = this.props;\n\n        return <canvas ref={(ref) => (this._canvas = ref)} {...canvasProps} />;\n    }\n}\n\nexport default SignaturePad;\n"],"names":["_extends","module","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","self","ReferenceError","_setPrototypeOf","o","p","setPrototypeOf","__proto__","subClass","superClass","create","constructor","value","_typeof","obj","Symbol","iterator","assertThisInitialized","_getPrototypeOf","getPrototypeOf","SignaturePad","PureComponent","state","canvasWidth","canvasHeight","_callResizeHandler","debounce","_this","debounceInterval","handleResize","bind","_canvas","width","height","style","scaleCanvas","window","addEventListener","_signaturePad","SigPad","options","removeEventListener","off","isEmpty","clear","base64String","fromDataURL","mime","toDataURL","data","fromData","toData","on","ratio","Math","max","devicePixelRatio","offsetWidth","offsetHeight","redrawOnResize","setState","getContext","scale","canvasProps","React","ref","_this2","dotSize","minWidth","maxWidth","throttle","color","backgroundColor","penColor","weight","velocityFilterWeight","fn","Error","onBegin","onEnd"],"mappings":"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"}