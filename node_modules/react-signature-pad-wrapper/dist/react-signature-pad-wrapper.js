"use strict";var React=require("react"),SigPad=require("signature_pad"),throttleDebounce=require("throttle-debounce");function _interopDefaultLegacy(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var React__default=_interopDefaultLegacy(React),SigPad__default=_interopDefaultLegacy(SigPad);function createCommonjsModule(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return commonjsRequire(t,null==e?n.path:e)}},n.exports),n.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var _extends_1=createCommonjsModule(function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e.apply(this,arguments)}t.exports=e});function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var classCallCheck=_classCallCheck;function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var createClass=_createClass;function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var assertThisInitialized=_assertThisInitialized,setPrototypeOf=createCommonjsModule(function(n){function r(t,e){return n.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.exports=r});function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&setPrototypeOf(t,e)}var inherits=_inherits,_typeof_1=createCommonjsModule(function(e){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n});function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof_1(e)&&"function"!=typeof e?assertThisInitialized(t):e}var possibleConstructorReturn=_possibleConstructorReturn,getPrototypeOf=createCommonjsModule(function(e){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}e.exports=n});function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var defineProperty=_defineProperty;function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var t,e=getPrototypeOf(n);return e=r?(t=getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),possibleConstructorReturn(this,e)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}var SignaturePad=function(t){inherits(n,t);var e=_createSuper(n);function n(t){return classCallCheck(this,n),(t=e.call(this,t)).state={canvasWidth:0,canvasHeight:0},t._callResizeHandler=throttleDebounce.debounce(t.props.debounceInterval,t.handleResize.bind(assertThisInitialized(t))),t}return createClass(n,[{key:"componentDidMount",value:function(){this._canvas&&(this.props.width&&this.props.height||(this._canvas.style.width="100%"),this.scaleCanvas(),this.props.width&&this.props.height||window.addEventListener("resize",this._callResizeHandler),this._signaturePad=new SigPad__default.default(this._canvas,this.props.options))}},{key:"componentWillUnmount",value:function(){this.props.width&&this.props.height||window.removeEventListener("resize",this._callResizeHandler),this._signaturePad.off()}},{key:"isEmpty",value:function(){return this._signaturePad.isEmpty()}},{key:"clear",value:function(){this._signaturePad.clear()}},{key:"fromDataURL",value:function(t){this._signaturePad.fromDataURL(t)}},{key:"toDataURL",value:function(t){return this._signaturePad.toDataURL(t)}},{key:"fromData",value:function(t){this._signaturePad.fromData(t)}},{key:"toData",value:function(){return this._signaturePad.toData()}},{key:"off",value:function(){this._signaturePad.off()}},{key:"on",value:function(){this._signaturePad.on()}},{key:"handleResize",value:function(){this.scaleCanvas()}},{key:"scaleCanvas",value:function(){var t,e=Math.max(window.devicePixelRatio||1,1),n=(this.props.width||this._canvas.offsetWidth)*e,r=(this.props.height||this._canvas.offsetHeight)*e,i=this.state,a=i.canvasWidth,i=i.canvasHeight;n===a&&r===i||(this.props.redrawOnResize&&this._signaturePad&&(t=this._signaturePad.toDataURL()),this._canvas.width=n,this._canvas.height=r,this.setState({canvasWidth:n,canvasHeight:r}),this._canvas.getContext("2d").scale(e,e),this.props.redrawOnResize&&this._signaturePad?this._signaturePad.fromDataURL(t):this._signaturePad&&this._signaturePad.clear())}},{key:"render",value:function(){var e=this,t=this.props.canvasProps;return React__default.default.createElement("canvas",_extends_1({ref:function(t){return e._canvas=t}},t))}},{key:"instance",get:function(){return this._signaturePad}},{key:"canvas",get:function(){return this._canvas}},{key:"dotSize",set:function(t){this._signaturePad.dotSize=t},get:function(){return this._signaturePad.dotSize}},{key:"minWidth",set:function(t){this._signaturePad.minWidth=t},get:function(){return this._signaturePad.minWidth}},{key:"maxWidth",set:function(t){this._signaturePad.maxWidth=t},get:function(){return this._signaturePad.maxWidth}},{key:"throttle",set:function(t){this._signaturePad.throttle=t},get:function(){return this._signaturePad.throttle}},{key:"backgroundColor",set:function(t){this._signaturePad.backgroundColor=t},get:function(){return this._signaturePad.backgroundColor}},{key:"penColor",set:function(t){this._signaturePad.penColor=t},get:function(){return this._signaturePad.penColor}},{key:"velocityFilterWeight",set:function(t){this._signaturePad.velocityFilterWeight=t},get:function(){return this._signaturePad.velocityFilterWeight}},{key:"onBegin",set:function(t){if(!t||"function"!=typeof t)throw new Error("Invalid argument passed to onBegin()");this._signaturePad.onBegin=t}},{key:"onEnd",set:function(t){if(!t||"function"!=typeof t)throw new Error("Invalid argument passed to onEnd()");this._signaturePad.onEnd=t}}]),n}(React.PureComponent);defineProperty(SignaturePad,"displayName","react-signature-pad-wrapper"),defineProperty(SignaturePad,"defaultProps",{redrawOnResize:!1,debounceInterval:150}),module.exports=SignaturePad;
//# sourceMappingURL=react-signature-pad-wrapper.js.map
